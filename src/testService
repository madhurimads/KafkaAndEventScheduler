package gov.irs.fatca.qi.core.util;

import org.junit.jupiter.api.Test;

import java.util.List;

import static org.junit.jupiter.api.Assertions.*;

class StringUtilsTest {

    @Test
    void testGetStringWithWildcards_exactLength() {
        String result = StringUtils.getStringWithWildcards("ABC", 3);
        assertEquals("ABC", result);
    }

    @Test
    void testGetStringWithWildcards_shorterLength() {
        String result = StringUtils.getStringWithWildcards("AB", 3);
        assertEquals("%AB%", result);
    }

    @Test
    void testGetStringWithWildcards_nullInput() {
        String result = StringUtils.getStringWithWildcards(null, 3);
        assertEquals("%", result);
    }

    @Test
    void testGetStringWithWildcards_customWildcard() {
        String result = StringUtils.getStringWithWildcards("X", 3, "*");
        assertEquals("*X*", result);
    }

    @Test
    void testParseStringWithParams() {
        String result = StringUtils.parseStringWithParams("Hello {0}, you have {1} new messages", "Alice", 5);
        assertEquals("Hello Alice, you have 5 new messages", result);
    }

    @Test
    void testConcatenateWithNulls_twoStrings() {
        String result = StringUtils.concatenateWithNulls("-", "A", null);
        assertEquals("A", result);
    }

    @Test
    void testConcatenateWithNulls_threeStrings() {
        String result = StringUtils.concatenateWithNulls(" ", "A", null, "B");
        assertEquals("A B", result);
    }

    @Test
    void testConcatenateWithNulls_fiveStrings() {
        String result = StringUtils.concatenateWithNulls("_", "A", null, "B", "C", null);
        assertEquals("A_B_C", result);
    }

    @Test
    void testInsertAtIndexWithNulls_valid() {
        String result = StringUtils.insertAtIndexWithNulls("-", "12345", 2);
        assertEquals("12-345", result);
    }

    @Test
    void testInsertAtIndexWithNulls_nullInput() {
        String result = StringUtils.insertAtIndexWithNulls("-", null, 2);
        assertEquals("", result);
    }

    @Test
    void testRemoveNulls_variations() {
        String input = "null, Apple, null, Banana, null";
        String result = StringUtils.removeNulls(input);
        assertEquals(" Apple,  Banana, ", result);
    }

    @Test
    void testSplitStringOnDelimiter() {
        List<String> result = StringUtils.splitStringOnDelimiter(",", "A,B,C");
        assertEquals(List.of("A", "B", "C"), result);
    }

    @Test
    void testSplitStringOnDot() {
        List<String> result = StringUtils.splitStringOnDot("gov.irs.fatca");
        assertEquals(List.of("gov", "irs", "fatca"), result);
    }
}
